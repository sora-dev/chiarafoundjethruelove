!function(o){"function"==typeof define&&define.amd?define(["jquery"],o):o(jQuery)}(function(o){"use strict";var e=!1,t=!1,r=0,i=2e3,s=0,n=o,l=["webkit","ms","moz","o"],c=window.requestAnimationFrame||!1,a=window.cancelAnimationFrame||!1;if(!c)for(var d in l)var u=l[d],c=c||window[u+"RequestAnimationFrame"],a=a||window[u+"CancelAnimationFrame"]||window[u+"CancelRequestAnimationFrame"];function h(o,l){var d=this;if(this.version="3.6.0",this.name="nicescroll",this.me=l,this.opt={doc:n("body"),win:!1},n.extend(this.opt,g),this.opt.snapbackspeed=80,o)for(var u in d.opt)void 0!==o[u]&&(d.opt[u]=o[u]);for(this.doc=d.opt.doc,this.iddoc=this.doc&&this.doc[0]&&this.doc[0].id||"",this.ispage=/^BODY|HTML/.test((d.opt.win||this.doc)[0].nodeName),this.haswrapper=!1!==d.opt.win,this.win=d.opt.win||(this.ispage?n(window):this.doc),this.docscroll=this.ispage&&!this.haswrapper?n(window):this.win,this.body=n("body"),this.viewport=!1,this.isfixed=!1,this.iframe=!1,this.isiframe="IFRAME"==this.doc[0].nodeName&&"IFRAME"==this.win[0].nodeName,this.istextarea="TEXTAREA"==this.win[0].nodeName,this.forcescreen=!1,this.canshowonmouseevent="scroll"!=d.opt.autohidemode,this.onmousedown=!1,this.onmouseup=!1,this.onmousemove=!1,this.onmousewheel=!1,this.onkeypress=!1,this.ongesturezoom=!1,this.onclick=!1,this.onscrollstart=!1,this.onscrollend=!1,this.onscrollcancel=!1,this.onzoomin=!1,this.onzoomout=!1,this.view=!1,this.page=!1,this.scroll={x:0,y:0},this.scrollratio={x:0,y:0},this.cursorheight=20,this.scrollvaluemax=0,this.isrtlmode="auto"==this.opt.rtlmode?"rtl"==(this.win[0]==window?this.body:this.win).css("direction"):!0===this.opt.rtlmode,this.scrollrunning=!1,this.scrollmom=!1,this.observer=!1,this.observerremover=!1,this.observerbody=!1;this.id="ascrail"+i++,document.getElementById(this.id););this.rail=!1,this.cursor=!1,this.cursorfreezed=!1,this.selectiondrag=!1,this.zoom=!1,this.zoomactive=!1,this.hasfocus=!1,this.hasmousefocus=!1,this.visibility=!0,this.railslocked=!1,this.locked=!1,this.hidden=!1,this.cursoractive=!0,this.wheelprevented=!1,this.overflowx=d.opt.overflowx,this.overflowy=d.opt.overflowy,this.nativescrollingarea=!1,this.checkarea=0,this.events=[],this.saved={},this.delaylist={},this.synclist={},this.lastdeltax=0,this.lastdeltay=0,this.detected=function o(){if(f)return f;var e=document.createElement("DIV"),t=e.style,r=navigator.userAgent,i=navigator.platform,s={};s.haspointerlock="pointerLockElement"in document||"webkitPointerLockElement"in document||"mozPointerLockElement"in document,s.isopera="opera"in window,s.isopera12=s.isopera&&"getUserMedia"in navigator,s.isoperamini="[object OperaMini]"===Object.prototype.toString.call(window.operamini),s.isie="all"in document&&"attachEvent"in e&&!s.isopera,s.isieold=s.isie&&!("msInterpolationMode"in t),s.isie7=s.isie&&!s.isieold&&(!("documentMode"in document)||7==document.documentMode),s.isie8=s.isie&&"documentMode"in document&&8==document.documentMode,s.isie9=s.isie&&"performance"in window&&9<=document.documentMode,s.isie10=s.isie&&"performance"in window&&10==document.documentMode,s.isie11="msRequestFullscreen"in e&&11<=document.documentMode,s.isie9mobile=/iemobile.9/i.test(r),s.isie9mobile&&(s.isie9=!1),s.isie7mobile=!s.isie9mobile&&s.isie7&&/iemobile/i.test(r),s.ismozilla="MozAppearance"in t,s.iswebkit="WebkitAppearance"in t,s.ischrome="chrome"in window,s.ischrome22=s.ischrome&&s.haspointerlock,s.ischrome26=s.ischrome&&"transition"in t,s.cantouch="ontouchstart"in document.documentElement||"ontouchstart"in window,s.hasmstouch=window.MSPointerEvent||!1,s.hasw3ctouch=window.PointerEvent||!1,s.ismac=/^mac$/i.test(i),s.isios=s.cantouch&&/iphone|ipad|ipod/i.test(i),s.isios4=s.isios&&!("seal"in Object),s.isios7=s.isios&&"webkitHidden"in document,s.isandroid=/android/i.test(r),s.haseventlistener="addEventListener"in e,s.trstyle=!1,s.hastransform=!1,s.hastranslate3d=!1,s.transitionstyle=!1,s.hastransition=!1,s.transitionend=!1;for(var n=["transform","msTransform","webkitTransform","MozTransform","OTransform",],l=0;l<n.length;l++)if(void 0!==t[n[l]]){s.trstyle=n[l];break}s.hastransform=!!s.trstyle,s.hastransform&&(t[s.trstyle]="translate3d(1px,2px,3px)",s.hastranslate3d=/translate3d/.test(t[s.trstyle])),s.transitionstyle=!1,s.prefixstyle="",s.transitionend=!1,n=["transition","webkitTransition","msTransition","MozTransition","OTransition","OTransition","KhtmlTransition",];var c=["","-webkit-","-ms-","-moz-","-o-","-o","-khtml-"],a=["transitionend","webkitTransitionEnd","msTransitionEnd","transitionend","otransitionend","oTransitionEnd","KhtmlTransitionEnd",];for(l=0;l<n.length;l++)if(n[l]in t){s.transitionstyle=n[l],s.prefixstyle=c[l],s.transitionend=a[l];break}return s.ischrome26&&(s.prefixstyle=c[1]),s.hastransition=s.transitionstyle,s.cursorgrabvalue=function(){var o=["-webkit-grab","-moz-grab","grab"];(s.ischrome&&!s.ischrome22||s.isie)&&(o=[]);for(var e=0;e<o.length;e++){var r=o[e];if(t.cursor=r,t.cursor==r)return r}return"url(//mail.google.com/mail/images/2/openhand.cur),n-resize"}(),s.hasmousecapture="setCapture"in e,s.hasMutationObserver=!1!==m,e=null,f=s}();var h=n.extend({},this.detected);this.canhwscroll=h.hastransform&&d.opt.hwacceleration,this.ishwscroll=this.canhwscroll&&d.haswrapper,this.hasreversehr=this.isrtlmode&&!h.iswebkit,this.istouchcapable=!1,h.cantouch&&!h.isios&&!h.isandroid&&(h.iswebkit||h.ismozilla)&&(this.istouchcapable=!0,h.cantouch=!1),d.opt.enablemouselockapi||(h.hasmousecapture=!1,h.haspointerlock=!1);var p,w=(this.debounced=function(o,e,t){var r=d.delaylist[o];d.delaylist[o]=e,r||setTimeout(function(){var e=d.delaylist[o];d.delaylist[o]=!1,e.call(d)},t)},!1);function v(o,e,t,r,i,s,n){this.st=o,this.ed=e,this.spd=t,this.p1=r||0,this.p2=i||1,this.p3=s||0,this.p4=n||1,this.ts=new Date().getTime(),this.df=this.ed-this.st}function b(){var o=d.doc.css(h.trstyle);return!(!o||"matrix"!=o.substr(0,6))&&o.replace(/^.*\((.*)\)$/g,"$1").replace(/px/g,"").split(/, +/)}this.synched=function(o,e){return d.synclist[o]=e,w||(c(function(){for(var o in w=!1,d.synclist){var e=d.synclist[o];e&&e.call(d),d.synclist[o]=!1}}),w=!0),o},this.unsynched=function(o){d.synclist[o]&&(d.synclist[o]=!1)},this.css=function(o,e){for(var t in e)d.saved.css.push([o,t,o.css(t)]),o.css(t,e[t])},this.scrollTop=function(o){return void 0===o?d.getScrollTop():d.setScrollTop(o)},this.scrollLeft=function(o){return void 0===o?d.getScrollLeft():d.setScrollLeft(o)},v.prototype={B2:function(o){return 3*o*o*(1-o)},B3:function(o){return 3*o*(1-o)*(1-o)},B4:function(o){return(1-o)*(1-o)*(1-o)},getNow:function(){var o=1-(new Date().getTime()-this.ts)/this.spd,e=this.B2(o)+this.B3(o)+this.B4(o);return o<0?this.ed:this.st+Math.round(this.df*e)},update:function(o,e){return this.st=this.getNow(),this.ed=o,this.spd=e,this.ts=new Date().getTime(),this.df=this.ed-this.st,this}},this.ishwscroll?(this.doc.translate={x:0,y:0,tx:"0px",ty:"0px"},h.hastranslate3d&&h.isios&&this.doc.css("-webkit-backface-visibility","hidden"),this.getScrollTop=function(o){if(!o){if(o=b())return 16==o.length?-o[13]:-o[5];if(d.timerscroll&&d.timerscroll.bz)return d.timerscroll.bz.getNow()}return d.doc.translate.y},this.getScrollLeft=function(o){if(!o){if(o=b())return 16==o.length?-o[12]:-o[4];if(d.timerscroll&&d.timerscroll.bh)return d.timerscroll.bh.getNow()}return d.doc.translate.x},this.notifyScrollEvent=function(o){var e=document.createEvent("UIEvents");e.initUIEvent("scroll",!1,!0,window,1),e.niceevent=!0,o.dispatchEvent(e)},p=this.isrtlmode?1:-1,h.hastranslate3d&&d.opt.enabletranslate3d?(this.setScrollTop=function(o,e){d.doc.translate.y=o,d.doc.translate.ty=-1*o+"px",d.doc.css(h.trstyle,"translate3d("+d.doc.translate.tx+","+d.doc.translate.ty+",0px)"),e||d.notifyScrollEvent(d.win[0])},this.setScrollLeft=function(o,e){d.doc.translate.x=o,d.doc.translate.tx=o*p+"px",d.doc.css(h.trstyle,"translate3d("+d.doc.translate.tx+","+d.doc.translate.ty+",0px)"),e||d.notifyScrollEvent(d.win[0])}):(this.setScrollTop=function(o,e){d.doc.translate.y=o,d.doc.translate.ty=-1*o+"px",d.doc.css(h.trstyle,"translate("+d.doc.translate.tx+","+d.doc.translate.ty+")"),e||d.notifyScrollEvent(d.win[0])},this.setScrollLeft=function(o,e){d.doc.translate.x=o,d.doc.translate.tx=o*p+"px",d.doc.css(h.trstyle,"translate("+d.doc.translate.tx+","+d.doc.translate.ty+")"),e||d.notifyScrollEvent(d.win[0])})):(this.getScrollTop=function(){return d.docscroll.scrollTop()},this.setScrollTop=function(o){return d.docscroll.scrollTop(o)},this.getScrollLeft=function(){return d.detected.ismozilla&&d.isrtlmode?Math.abs(d.docscroll.scrollLeft()):d.docscroll.scrollLeft()},this.setScrollLeft=function(o){return d.docscroll.scrollLeft(d.detected.ismozilla&&d.isrtlmode?-o:o)}),this.getTarget=function(o){return o&&(o.target||o.srcElement)||!1},this.hasParent=function(o,e){if(!o)return!1;for(var t=o.target||o.srcElement||o||!1;t&&t.id!=e;)t=t.parentNode||!1;return!1!==t};var y={thin:1,medium:3,thick:5};function x(o,e,t){return isNaN(e=parseFloat(o=o.css(e)))?(t=3==(e=y[o]||0)?t?d.win.outerHeight()-d.win.innerHeight():d.win.outerWidth()-d.win.innerWidth():1,d.isie8&&e&&(e+=1),t?e:0):e}function _(o,e,t,r){d._bind(o,e,function(r){var i={original:r=r||window.event,target:r.target||r.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==r.type?0:1,deltaX:0,deltaZ:0,preventDefault:function(){return r.preventDefault?r.preventDefault():r.returnValue=!1,!1},stopImmediatePropagation:function(){r.stopImmediatePropagation?r.stopImmediatePropagation():r.cancelBubble=!0}};return"mousewheel"==e?(i.deltaY=-.025*r.wheelDelta,r.wheelDeltaX&&(i.deltaX=-.025*r.wheelDeltaX)):i.deltaY=r.detail,t.call(o,i)},r)}function S(o,e,t){var r,i;if(0==o.deltaMode?(r=-Math.floor(o.deltaX*(d.opt.mousescrollstep/54)),i=-Math.floor(o.deltaY*(d.opt.mousescrollstep/54))):1==o.deltaMode&&(r=-Math.floor(o.deltaX*d.opt.mousescrollstep),i=-Math.floor(o.deltaY*d.opt.mousescrollstep)),e&&d.opt.oneaxismousemode&&0==r&&i&&(r=i,i=0,t&&(r<0?d.getScrollLeft()>=d.page.maxw:0>=d.getScrollLeft())&&(i=r,r=0)),r&&(d.scrollmom&&d.scrollmom.stop(),d.lastdeltax+=r,d.debounced("mousewheelx",function(){var o=d.lastdeltax;d.lastdeltax=0,d.rail.drag||d.doScrollLeftBy(o)},15)),i){if(d.opt.nativeparentscrolling&&t&&!d.ispage&&!d.zoomactive){if(i<0){if(d.getScrollTop()>=d.page.maxh)return!0}else if(0>=d.getScrollTop())return!0}d.scrollmom&&d.scrollmom.stop(),d.lastdeltay+=i,d.debounced("mousewheely",function(){var o=d.lastdeltay;d.lastdeltay=0,d.rail.drag||d.doScrollBy(o)},15)}return o.stopImmediatePropagation(),o.preventDefault()}this.getDocumentScrollOffset=function(){return{top:window.pageYOffset||document.documentElement.scrollTop,left:window.pageXOffset||document.documentElement.scrollLeft}},this.getOffset=function(){if(d.isfixed){var o=d.win.offset(),e=d.getDocumentScrollOffset();return o.top-=e.top,o.left-=e.left,o}return(e=d.win.offset(),d.viewport)?(o=d.viewport.offset(),{top:e.top-o.top,left:e.left-o.left}):e},this.updateScrollBar=function(o){var e,t,r;d.ishwscroll?(d.rail.css({height:d.win.innerHeight()-(d.opt.railpadding.top+d.opt.railpadding.bottom)}),d.railh&&d.railh.css({width:d.win.innerWidth()-(d.opt.railpadding.left+d.opt.railpadding.right)})):((r={top:(e=d.getOffset()).top,left:e.left-(d.opt.railpadding.left+d.opt.railpadding.right)}).top+=x(d.win,"border-top-width",!0),r.left+=d.rail.align?d.win.outerWidth()-x(d.win,"border-right-width")-d.rail.width:x(d.win,"border-left-width"),(t=d.opt.railoffset)&&(t.top&&(r.top+=t.top),d.rail.align&&t.left&&(r.left+=t.left)),d.railslocked||d.rail.css({top:r.top,left:r.left,height:(o?o.h:d.win.innerHeight())-(d.opt.railpadding.top+d.opt.railpadding.bottom)}),d.zoom&&d.zoom.css({top:r.top+1,left:1==d.rail.align?r.left-20:r.left+d.rail.width+4}),d.railh&&!d.railslocked&&(r={top:e.top,left:e.left},(t=d.opt.railhoffset)&&(t.top&&(r.top+=t.top),t.left&&(r.left+=t.left)),t=d.railh.align?r.top+x(d.win,"border-top-width",!0)+d.win.innerHeight()-d.railh.height:r.top+x(d.win,"border-top-width",!0),r=r.left+x(d.win,"border-left-width"),d.railh.css({top:t-(d.opt.railpadding.top+d.opt.railpadding.bottom),left:r,width:d.railh.width})))},this.doRailClick=function(o,e,t){var r,i;d.railslocked||(d.cancelEvent(o),e?(r=t?d.doScrollLeft:d.doScrollTop)(i=t?(o.pageX-d.railh.offset().left-d.cursorwidth/2)*d.scrollratio.x:(o.pageY-d.rail.offset().top-d.cursorheight/2)*d.scrollratio.y):(r=t?d.doScrollLeftBy:d.doScrollBy,i=t?d.scroll.x:d.scroll.y,o=t?o.pageX-d.railh.offset().left:o.pageY-d.rail.offset().top,t=t?d.view.w:d.view.h,r(o<=i?t:-t)))},d.hasanimationframe=c,d.hascancelanimationframe=a,d.hasanimationframe?d.hascancelanimationframe||(a=function(){d.cancelAnimationFrame=!0}):(c=function(o){return setTimeout(o,15-Math.floor(+new Date/1e3)%16)},a=clearInterval),this.init=function(){if(d.saved.css=[],h.isie7mobile||h.isoperamini)return!0;if(h.hasmstouch&&d.css(d.ispage?n("html"):d.win,{"-ms-touch-action":"none"}),d.zindex="auto",d.ispage||"auto"!=d.opt.zindex?d.zindex=d.opt.zindex:d.zindex=function(){var o=d.win;if("zIndex"in o)return o.zIndex();for(;0<o.length&&9!=o[0].nodeType;){var e=o.css("zIndex");if(!isNaN(e)&&0!=e)return parseInt(e);o=o.parent()}return!1}()||"auto",d.ispage||"auto"==d.zindex||d.zindex>s&&(s=d.zindex),d.isie&&0==d.zindex&&"auto"==d.opt.zindex&&(d.zindex="auto"),!d.ispage||!h.cantouch&&!h.isieold&&!h.isie9mobile){var o,i=d.docscroll;d.ispage&&(i=d.haswrapper?d.win:d.doc),h.isie9mobile||d.css(i,{"overflow-y":"hidden"}),d.ispage&&h.isie7&&("BODY"==d.doc[0].nodeName?d.css(n("html"),{"overflow-y":"hidden"}):"HTML"==d.doc[0].nodeName&&d.css(n("body"),{"overflow-y":"hidden"})),!h.isios||d.ispage||d.haswrapper||d.css(n("body"),{"-webkit-overflow-scrolling":"touch"});var l=n(document.createElement("div"));l.css({position:"relative",top:0,float:"right",width:d.opt.cursorwidth,height:"0px","background-color":d.opt.cursorcolor,border:d.opt.cursorborder,"background-clip":"padding-box","-webkit-border-radius":d.opt.cursorborderradius,"-moz-border-radius":d.opt.cursorborderradius,"border-radius":d.opt.cursorborderradius}),l.hborder=parseFloat(l.outerHeight()-l.innerHeight()),l.addClass("nicescroll-cursors"),d.cursor=l;var c=n(document.createElement("div"));c.attr("id",d.id),c.addClass("nicescroll-rails nicescroll-rails-vr");var a,u,p,g=["left","right","top","bottom"];for(p in g)u=g[p],(a=d.opt.railpadding[u])?c.css("padding-"+u,a+"px"):d.opt.railpadding[u]=0;c.append(l),c.width=Math.max(parseFloat(d.opt.cursorwidth),l.outerWidth()),c.css({width:c.width+"px",zIndex:d.zindex,background:d.opt.background,cursor:"default"}),c.visibility=!0,c.scrollable=!0,c.align="left"==d.opt.railalign?0:1,d.rail=c;var f,w,v,b,y,x,_=d.rail.drag=!1;!d.opt.boxzoom||d.ispage||h.isieold||(_=document.createElement("div"),d.bind(_,"click",d.doZoom),d.bind(_,"mouseenter",function(){d.zoom.css("opacity",d.opt.cursoropacitymax)}),d.bind(_,"mouseleave",function(){d.zoom.css("opacity",d.opt.cursoropacitymin)}),d.zoom=n(_),d.zoom.css({cursor:"pointer","z-index":d.zindex,backgroundImage:"url("+d.opt.scriptpath+"zoomico.png)",height:18,width:18,backgroundPosition:"0px 0px"}),d.opt.dblclickzoom&&d.bind(d.win,"dblclick",d.doZoom),h.cantouch&&d.opt.gesturezoom&&(d.ongesturezoom=function(o){return 1.5<o.scale&&d.doZoomIn(o),o.scale<.8&&d.doZoomOut(o),d.cancelEvent(o)},d.bind(d.win,"gestureend",d.ongesturezoom))),d.railh=!1,d.opt.horizrailenabled&&(d.css(i,{"overflow-x":"hidden"}),(l=n(document.createElement("div"))).css({position:"absolute",top:0,height:d.opt.cursorwidth,width:"0px","background-color":d.opt.cursorcolor,border:d.opt.cursorborder,"background-clip":"padding-box","-webkit-border-radius":d.opt.cursorborderradius,"-moz-border-radius":d.opt.cursorborderradius,"border-radius":d.opt.cursorborderradius}),h.isieold&&l.css({overflow:"hidden"}),l.wborder=parseFloat(l.outerWidth()-l.innerWidth()),l.addClass("nicescroll-cursors"),d.cursorh=l,(w=n(document.createElement("div"))).attr("id",d.id+"-hr"),w.addClass("nicescroll-rails nicescroll-rails-hr"),w.height=Math.max(parseFloat(d.opt.cursorwidth),l.outerHeight()),w.css({height:w.height+"px",zIndex:d.zindex,background:d.opt.background}),w.append(l),w.visibility=!0,w.scrollable=!0,w.align="top"==d.opt.railvalign?0:1,d.railh=w,d.railh.drag=!1),d.ispage?(c.css({position:"fixed",top:"0px",height:"100%"}),c.align?c.css({right:"0px"}):c.css({left:"0px"}),d.body.append(c),d.railh&&(w.css({position:"fixed",left:"0px",width:"100%"}),w.align?w.css({bottom:"0px"}):w.css({top:"0px"}),d.body.append(w))):(d.ishwscroll?("static"==d.win.css("position")&&d.css(d.win,{position:"relative"}),n(f="HTML"==d.win[0].nodeName?d.body:d.win).scrollTop(0).scrollLeft(0),d.zoom&&(d.zoom.css({position:"absolute",top:1,right:0,"margin-right":c.width+4}),f.append(d.zoom)),c.css({position:"absolute",top:0}),c.align?c.css({right:0}):c.css({left:0}),f.append(c),w&&(w.css({position:"absolute",left:0,bottom:0}),w.align?w.css({bottom:0}):w.css({top:0}),f.append(w))):(d.isfixed="fixed"==d.win.css("position"),f=d.isfixed?"fixed":"absolute",d.isfixed||(d.viewport=d.getViewport(d.win[0])),d.viewport&&(d.body=d.viewport,0==/fixed|absolute/.test(d.viewport.css("position"))&&d.css(d.viewport,{position:"relative"})),c.css({position:f}),d.zoom&&d.zoom.css({position:f}),d.updateScrollBar(),d.body.append(c),d.zoom&&d.body.append(d.zoom),d.railh&&(w.css({position:f}),d.body.append(w))),h.isios&&d.css(d.win,{"-webkit-tap-highlight-color":"rgba(0,0,0,0)","-webkit-touch-callout":"none"}),h.isie&&d.opt.disableoutline&&d.win.attr("hideFocus","true"),h.iswebkit&&d.opt.disableoutline&&d.win.css({outline:"none"})),!1===d.opt.autohidemode?(d.autohidedom=!1,d.rail.css({opacity:d.opt.cursoropacitymax}),d.railh&&d.railh.css({opacity:d.opt.cursoropacitymax})):!0===d.opt.autohidemode||"leave"===d.opt.autohidemode?(d.autohidedom=n().add(d.rail),h.isie8&&(d.autohidedom=d.autohidedom.add(d.cursor)),d.railh&&(d.autohidedom=d.autohidedom.add(d.railh)),d.railh&&h.isie8&&(d.autohidedom=d.autohidedom.add(d.cursorh))):"scroll"==d.opt.autohidemode?(d.autohidedom=n().add(d.rail),d.railh&&(d.autohidedom=d.autohidedom.add(d.railh))):"cursor"==d.opt.autohidemode?(d.autohidedom=n().add(d.cursor),d.railh&&(d.autohidedom=d.autohidedom.add(d.cursorh))):"hidden"==d.opt.autohidemode&&(d.autohidedom=!1,d.hide(),d.railslocked=!1),h.isie9mobile?(d.scrollmom=new $(d),d.onmangotouch=function(){var o=d.getScrollTop(),e=d.getScrollLeft();if(o==d.scrollmom.lastscrolly&&e==d.scrollmom.lastscrollx)return!0;var t,r,i,s=o-d.mangotouch.sy,n=e-d.mangotouch.sx;0!=Math.round(Math.sqrt(Math.pow(n,2)+Math.pow(s,2)))&&(t=s<0?-1:1,r=n<0?-1:1,i=+new Date,d.mangotouch.lazy&&clearTimeout(d.mangotouch.lazy),80<i-d.mangotouch.tm||d.mangotouch.dry!=t||d.mangotouch.drx!=r?(d.scrollmom.stop(),d.scrollmom.reset(e,o),d.mangotouch.sy=o,d.mangotouch.ly=o,d.mangotouch.sx=e,d.mangotouch.lx=e,d.mangotouch.dry=t,d.mangotouch.drx=r,d.mangotouch.tm=i):(d.scrollmom.stop(),d.scrollmom.update(d.mangotouch.sx-n,d.mangotouch.sy-s),d.mangotouch.tm=i,i=Math.max(Math.abs(d.mangotouch.ly-o),Math.abs(d.mangotouch.lx-e)),d.mangotouch.ly=o,d.mangotouch.lx=e,2<i&&(d.mangotouch.lazy=setTimeout(function(){d.mangotouch.lazy=!1,d.mangotouch.dry=0,d.mangotouch.drx=0,d.mangotouch.tm=0,d.scrollmom.doMomentum(30)},100))))},w=d.getScrollTop(),x=d.getScrollLeft(),d.mangotouch={sy:w,ly:w,dry:0,sx:x,lx:x,drx:0,lazy:!1,tm:0},d.bind(d.docscroll,"scroll",d.onmangotouch)):((h.cantouch||d.istouchcapable||d.opt.touchbehavior||h.hasmstouch)&&(d.scrollmom=new $(d),d.ontouchstart=function(o){if(o.pointerType&&2!=o.pointerType&&"touch"!=o.pointerType)return!1;if(d.hasmoving=!1,!d.railslocked){var e,t,r,i,s;if(h.hasmstouch)for(e=o.target||!1;e;){var l=n(e).getNiceScroll();if(0<l.length&&l[0].me==d.me)break;if(0<l.length)return!1;if("DIV"==e.nodeName&&e.id==d.id)break;e=e.parentNode||!1}if(d.cancelScroll(),(e=d.getTarget(o))&&/INPUT/i.test(e.nodeName)&&/range/i.test(e.type))return d.stopPropagation(o);if(!("clientX"in o)&&"changedTouches"in o&&(o.clientX=o.changedTouches[0].clientX,o.clientY=o.changedTouches[0].clientY),d.forcescreen&&((o={original:(r=o).original||o}).clientX=r.screenX,o.clientY=r.screenY),d.rail.drag={x:o.clientX,y:o.clientY,sx:d.scroll.x,sy:d.scroll.y,st:d.getScrollTop(),sl:d.getScrollLeft(),pt:2,dl:!1},d.ispage||!d.opt.directionlockdeadzone?d.rail.drag.dl="f":(s=n(window).width(),i=n(window).height(),t=Math.max(document.body.scrollWidth,document.documentElement.scrollWidth),i=Math.max(0,(r=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight))-i),s=Math.max(0,t-s),!d.rail.scrollable&&d.railh.scrollable?d.rail.drag.ck=0<i&&"v":d.rail.scrollable&&!d.railh.scrollable?d.rail.drag.ck=0<s&&"h":d.rail.drag.ck=!1,d.rail.drag.ck||(d.rail.drag.dl="f")),d.opt.touchbehavior&&d.isiframe&&h.isie&&(s=d.win.position(),d.rail.drag.x+=s.left,d.rail.drag.y+=s.top),d.hasmoving=!1,d.lastmouseup=!1,d.scrollmom.reset(o.clientX,o.clientY),!h.cantouch&&!this.istouchcapable&&!o.pointerType){if(!(e&&/INPUT|SELECT|TEXTAREA/i.test(e.nodeName)))return!d.ispage&&h.hasmousecapture&&e.setCapture(),d.opt.touchbehavior?(e.onclick&&!e._onclick&&(e._onclick=e.onclick,e.onclick=function(o){if(d.hasmoving)return!1;e._onclick.call(this,o)}),d.cancelEvent(o)):d.stopPropagation(o);/SUBMIT|CANCEL|BUTTON/i.test(n(e).attr("type"))&&(pc={tg:e,click:!1},d.preventclick=pc)}}},d.ontouchend=function(o){return!d.rail.drag||(2==d.rail.drag.pt?(!o.pointerType||2==o.pointerType||"touch"==o.pointerType)&&(d.scrollmom.doMomentum(),d.rail.drag=!1,d.hasmoving&&(d.lastmouseup=!0,d.hideCursor(),h.hasmousecapture&&document.releaseCapture(),!h.cantouch)?d.cancelEvent(o):void 0):1==d.rail.drag.pt?d.onmouseup(o):void 0)},v=d.opt.touchbehavior&&d.isiframe&&!h.hasmousecapture,d.ontouchmove=function(o,e){if(!d.rail.drag||o.targetTouches&&d.opt.preventmultitouchscrolling&&1<o.targetTouches.length||o.pointerType&&2!=o.pointerType&&"touch"!=o.pointerType)return!1;if(2!=d.rail.drag.pt)return 1==d.rail.drag.pt?d.onmousemove(o):void 0;if(h.cantouch&&h.isios&&void 0===o.original)return!0;d.hasmoving=!0,d.preventclick&&!d.preventclick.click&&(d.preventclick.click=d.preventclick.tg.onclick||!1,d.preventclick.tg.onclick=d.onpreventclick),"changedTouches"in(o=n.extend({original:o},o))&&(o.clientX=o.changedTouches[0].clientX,o.clientY=o.changedTouches[0].clientY),d.forcescreen&&((o={original:(a=o).original||o}).clientX=a.screenX,o.clientY=a.screenY),a=c=0,v&&!e&&(a=-(s=d.win.position()).left,c=-s.top);var t,r=o.clientY+c,e=r-d.rail.drag.y,i=o.clientX+a,s=i-d.rail.drag.x,l=d.rail.drag.st-e;d.ishwscroll&&d.opt.bouncescroll?l<0?l=Math.round(l/2):l>d.page.maxh&&(l=d.page.maxh+Math.round((l-d.page.maxh)/2)):(l<0&&(r=l=0),l>d.page.maxh&&(l=d.page.maxh,r=0)),d.railh&&d.railh.scrollable&&(t=d.isrtlmode?s-d.rail.drag.sl:d.rail.drag.sl-s,d.ishwscroll&&d.opt.bouncescroll?t<0?t=Math.round(t/2):t>d.page.maxw&&(t=d.page.maxw+Math.round((t-d.page.maxw)/2)):(t<0&&(i=t=0),t>d.page.maxw&&(t=d.page.maxw,i=0)));var c=!1;if(d.rail.drag.dl)c=!0,"v"==d.rail.drag.dl?t=d.rail.drag.sl:"h"==d.rail.drag.dl&&(l=d.rail.drag.st);else{var a=Math.abs(e),e=Math.abs(s),s=d.opt.directionlockdeadzone;if("v"==d.rail.drag.ck){if(s<a&&e<=.3*a)return d.rail.drag=!1,!0;s<e&&(d.rail.drag.dl="f",n("body").scrollTop(n("body").scrollTop()))}else if("h"==d.rail.drag.ck){if(s<e&&a<=.3*e)return d.rail.drag=!1,!0;s<a&&(d.rail.drag.dl="f",n("body").scrollLeft(n("body").scrollLeft()))}}return d.synched("touchmove",function(){d.rail.drag&&2==d.rail.drag.pt&&(d.prepareTransition&&d.prepareTransition(0),d.rail.scrollable&&d.setScrollTop(l),d.scrollmom.update(i,r),d.railh&&d.railh.scrollable?(d.setScrollLeft(t),d.showCursor(l,t)):d.showCursor(l),h.isie10&&document.selection.clear())}),h.ischrome&&d.istouchcapable&&(c=!1),c?d.cancelEvent(o):void 0}),d.onmousedown=function(o,e){if(!d.rail.drag||1==d.rail.drag.pt)return d.railslocked||(d.cancelScroll(),d.rail.drag={x:o.clientX,y:o.clientY,sx:d.scroll.x,sy:d.scroll.y,pt:1,hr:!!e},e=d.getTarget(o),!d.ispage&&h.hasmousecapture&&e.setCapture(),d.isiframe&&!h.hasmousecapture&&(d.saved.csspointerevents=d.doc.css("pointer-events"),d.css(d.doc,{"pointer-events":"none"})),d.hasmoving=!1),d.cancelEvent(o)},d.onmouseup=function(o){if(d.rail.drag)return 1!=d.rail.drag.pt||(h.hasmousecapture&&document.releaseCapture(),d.isiframe&&!h.hasmousecapture&&d.doc.css("pointer-events",d.saved.csspointerevents),d.rail.drag=!1,d.hasmoving&&d.triggerScrollEnd(),d.cancelEvent(o))},d.onmousemove=function(o){var e;if(d.rail.drag&&1==d.rail.drag.pt)return h.ischrome&&0==o.which?d.onmouseup(o):(d.cursorfreezed=!0,d.hasmoving=!0,d.rail.drag.hr?(d.scroll.x=d.rail.drag.sx+(o.clientX-d.rail.drag.x),d.scroll.x<0&&(d.scroll.x=0),e=d.scrollvaluemaxw,d.scroll.x>e&&(d.scroll.x=e)):(d.scroll.y=d.rail.drag.sy+(o.clientY-d.rail.drag.y),d.scroll.y<0&&(d.scroll.y=0),e=d.scrollvaluemax,d.scroll.y>e&&(d.scroll.y=e)),d.synched("mousemove",function(){d.rail.drag&&1==d.rail.drag.pt&&(d.showCursor(),d.rail.drag.hr?d.hasreversehr?d.doScrollLeft(d.scrollvaluemaxw-Math.round(d.scroll.x*d.scrollratio.x),d.opt.cursordragspeed):d.doScrollLeft(Math.round(d.scroll.x*d.scrollratio.x),d.opt.cursordragspeed):d.doScrollTop(Math.round(d.scroll.y*d.scrollratio.y),d.opt.cursordragspeed))}),d.cancelEvent(o))},h.cantouch||d.opt.touchbehavior?(d.onpreventclick=function(o){if(d.preventclick)return d.preventclick.tg.onclick=d.preventclick.click,d.preventclick=!1,d.cancelEvent(o)},d.bind(d.win,"mousedown",d.ontouchstart),d.onclick=!h.isios&&function(o){return!d.lastmouseup||(d.lastmouseup=!1,d.cancelEvent(o))},d.opt.grabcursorenabled&&h.cursorgrabvalue&&(d.css(d.ispage?d.doc:d.win,{cursor:h.cursorgrabvalue}),d.css(d.rail,{cursor:h.cursorgrabvalue}))):(b=function(o){var e,t;d.selectiondrag&&(o&&(e=d.win.outerHeight(),0<(t=o.pageY-d.selectiondrag.top)&&t<e&&(t=0),e<=t&&(t-=e),d.selectiondrag.df=t),0!=d.selectiondrag.df&&(t=-(2*Math.floor(d.selectiondrag.df/6)),d.doScrollBy(t),d.debounced("doselectionscroll",function(){b()},50)))},"getSelection"in document?d.hasTextSelected=function(){return 0<document.getSelection().rangeCount}:"selection"in document?d.hasTextSelected=function(){return"None"!=document.selection.type}:d.hasTextSelected=function(){return!1},d.onselectionstart=function(o){d.ispage||(d.selectiondrag=d.win.offset())},d.onselectionend=function(o){d.selectiondrag=!1},d.onselectiondrag=function(o){d.selectiondrag&&d.hasTextSelected()&&d.debounced("selectionscroll",function(){b(o)},250)}),h.hasw3ctouch?(d.css(d.rail,{"touch-action":"none"}),d.css(d.cursor,{"touch-action":"none"}),d.bind(d.win,"pointerdown",d.ontouchstart),d.bind(document,"pointerup",d.ontouchend),d.bind(document,"pointermove",d.ontouchmove)):h.hasmstouch?(d.css(d.rail,{"-ms-touch-action":"none"}),d.css(d.cursor,{"-ms-touch-action":"none"}),d.bind(d.win,"MSPointerDown",d.ontouchstart),d.bind(document,"MSPointerUp",d.ontouchend),d.bind(document,"MSPointerMove",d.ontouchmove),d.bind(d.cursor,"MSGestureHold",function(o){o.preventDefault()}),d.bind(d.cursor,"contextmenu",function(o){o.preventDefault()})):this.istouchcapable&&(d.bind(d.win,"touchstart",d.ontouchstart),d.bind(document,"touchend",d.ontouchend),d.bind(document,"touchcancel",d.ontouchend),d.bind(document,"touchmove",d.ontouchmove)),!d.opt.cursordragontouch&&(h.cantouch||d.opt.touchbehavior)||(d.rail.css({cursor:"default"}),d.railh&&d.railh.css({cursor:"default"}),d.jqbind(d.rail,"mouseenter",function(){return!(!d.ispage&&!d.win.is(":visible"))&&(d.canshowonmouseevent&&d.showCursor(),void(d.rail.active=!0))}),d.jqbind(d.rail,"mouseleave",function(){d.rail.active=!1,d.rail.drag||d.hideCursor()}),d.opt.sensitiverail&&(d.bind(d.rail,"click",function(o){d.doRailClick(o,!1,!1)}),d.bind(d.rail,"dblclick",function(o){d.doRailClick(o,!0,!1)}),d.bind(d.cursor,"click",function(o){d.cancelEvent(o)}),d.bind(d.cursor,"dblclick",function(o){d.cancelEvent(o)})),d.railh&&(d.jqbind(d.railh,"mouseenter",function(){return!(!d.ispage&&!d.win.is(":visible"))&&(d.canshowonmouseevent&&d.showCursor(),void(d.rail.active=!0))}),d.jqbind(d.railh,"mouseleave",function(){d.rail.active=!1,d.rail.drag||d.hideCursor()}),d.opt.sensitiverail&&(d.bind(d.railh,"click",function(o){d.doRailClick(o,!1,!0)}),d.bind(d.railh,"dblclick",function(o){d.doRailClick(o,!0,!0)}),d.bind(d.cursorh,"click",function(o){d.cancelEvent(o)}),d.bind(d.cursorh,"dblclick",function(o){d.cancelEvent(o)})))),h.cantouch||d.opt.touchbehavior?(d.bind(h.hasmousecapture?d.win:document,"mouseup",d.ontouchend),d.bind(document,"mousemove",d.ontouchmove),d.onclick&&d.bind(document,"click",d.onclick),d.opt.cursordragontouch&&(d.bind(d.cursor,"mousedown",d.onmousedown),d.bind(d.cursor,"mouseup",d.onmouseup),d.cursorh&&d.bind(d.cursorh,"mousedown",function(o){d.onmousedown(o,!0)}),d.cursorh&&d.bind(d.cursorh,"mouseup",d.onmouseup))):(d.bind(h.hasmousecapture?d.win:document,"mouseup",d.onmouseup),d.bind(document,"mousemove",d.onmousemove),d.onclick&&d.bind(document,"click",d.onclick),d.bind(d.cursor,"mousedown",d.onmousedown),d.bind(d.cursor,"mouseup",d.onmouseup),d.railh&&(d.bind(d.cursorh,"mousedown",function(o){d.onmousedown(o,!0)}),d.bind(d.cursorh,"mouseup",d.onmouseup)),!d.ispage&&d.opt.enablescrollonselection&&(d.bind(d.win[0],"mousedown",d.onselectionstart),d.bind(document,"mouseup",d.onselectionend),d.bind(d.cursor,"mouseup",d.onselectionend),d.cursorh&&d.bind(d.cursorh,"mouseup",d.onselectionend),d.bind(document,"mousemove",d.onselectiondrag)),d.zoom&&(d.jqbind(d.zoom,"mouseenter",function(){d.canshowonmouseevent&&d.showCursor(),d.rail.active=!0}),d.jqbind(d.zoom,"mouseleave",function(){d.rail.active=!1,d.rail.drag||d.hideCursor()}))),d.opt.enablemousewheel&&(d.isiframe||d.bind(h.isie&&d.ispage?document:d.win,"mousewheel",d.onmousewheel),d.bind(d.rail,"mousewheel",d.onmousewheel),d.railh&&d.bind(d.railh,"mousewheel",d.onmousewheelhr)),d.ispage||h.cantouch||/HTML|^BODY/.test(d.win[0].nodeName)||(d.win.attr("tabindex")||d.win.attr({tabindex:r++}),d.jqbind(d.win,"focus",function(o){e=d.getTarget(o).id||!0,d.hasfocus=!0,d.canshowonmouseevent&&d.noticeCursor()}),d.jqbind(d.win,"blur",function(o){e=!1,d.hasfocus=!1}),d.jqbind(d.win,"mouseenter",function(o){t=d.getTarget(o).id||!0,d.hasmousefocus=!0,d.canshowonmouseevent&&d.noticeCursor()}),d.jqbind(d.win,"mouseleave",function(){t=!1,d.hasmousefocus=!1,d.rail.drag||d.hideCursor()}))),d.onkeypress=function(o){if(d.railslocked&&0==d.page.maxh)return!0;o=o||window.e;var r=d.getTarget(o);if(r&&/INPUT|TEXTAREA|SELECT|OPTION/.test(r.nodeName)&&(!(r.getAttribute("type")||r.type)||!/submit|button|cancel/i.tp)||n(r).attr("contenteditable"))return!0;if(d.hasfocus||d.hasmousefocus&&!e||d.ispage&&!e&&!t){if(r=o.keyCode,d.railslocked&&27!=r)return d.cancelEvent(o);var i=o.ctrlKey||!1,s=o.shiftKey||!1,l=!1;switch(r){case 38:case 63233:d.doScrollBy(72),l=!0;break;case 40:case 63235:d.doScrollBy(-72),l=!0;break;case 37:case 63232:d.railh&&(i?d.doScrollLeft(0):d.doScrollLeftBy(72),l=!0);break;case 39:case 63234:d.railh&&(i?d.doScrollLeft(d.page.maxw):d.doScrollLeftBy(-72),l=!0);break;case 33:case 63276:d.doScrollBy(d.view.h),l=!0;break;case 34:case 63277:d.doScrollBy(-d.view.h),l=!0;break;case 36:case 63273:d.railh&&i?d.doScrollPos(0,0):d.doScrollTo(0),l=!0;break;case 35:case 63275:d.railh&&i?d.doScrollPos(d.page.maxw,d.page.maxh):d.doScrollTo(d.page.maxh),l=!0;break;case 32:d.opt.spacebarenabled&&(s?d.doScrollBy(d.view.h):d.doScrollBy(-d.view.h),l=!0);break;case 27:d.zoomactive&&(d.doZoom(),l=!0)}return l?d.cancelEvent(o):void 0}},d.opt.enablekeyboard&&d.bind(document,h.isopera&&!h.isopera12?"keypress":"keydown",d.onkeypress),d.bind(document,"keydown",function(o){o.ctrlKey&&(d.wheelprevented=!0)}),d.bind(document,"keyup",function(o){o.ctrlKey||(d.wheelprevented=!1)}),d.bind(window,"blur",function(o){d.wheelprevented=!1}),d.bind(window,"resize",d.lazyResize),d.bind(window,"orientationchange",d.lazyResize),d.bind(window,"load",d.lazyResize),!h.ischrome||d.ispage||d.haswrapper||(y=d.win.attr("style"),x=parseFloat(d.win.css("width"))+1,d.win.css("width",x),d.synched("chromefix",function(){d.win.attr("style",y)})),d.onAttributeChange=function(o){d.lazyResize(d.isieold?250:30)},!1!==m&&(d.observerbody=new m(function(o){if(o.forEach(function(o){if("attributes"==o.type)return n("body").hasClass("modal-open")?d.hide():d.show()}),document.body.scrollHeight!=d.page.maxh)return d.lazyResize(30)}),d.observerbody.observe(document.body,{childList:!0,subtree:!0,characterData:!1,attributes:!0,attributeFilter:["class"]})),d.ispage||d.haswrapper||(!1!==m?(d.observer=new m(function(o){o.forEach(d.onAttributeChange)}),d.observer.observe(d.win[0],{childList:!0,characterData:!1,attributes:!0,subtree:!1}),d.observerremover=new m(function(o){o.forEach(function(o){if(0<o.removedNodes.length){for(var e in o.removedNodes)if(d&&o.removedNodes[e]==d.win[0])return d.remove()}})}),d.observerremover.observe(d.win[0].parentNode,{childList:!0,characterData:!1,attributes:!1,subtree:!1})):(d.bind(d.win,h.isie&&!h.isie9?"propertychange":"DOMAttrModified",d.onAttributeChange),h.isie9&&d.win[0].attachEvent("onpropertychange",d.onAttributeChange),d.bind(d.win,"DOMNodeRemoved",function(o){o.target==d.win[0]&&d.remove()}))),!d.ispage&&d.opt.boxzoom&&d.bind(window,"resize",d.resizeZoom),d.istextarea&&d.bind(d.win,"mouseup",d.lazyResize),d.lazyResize(30)}"IFRAME"==this.doc[0].nodeName&&(o=function(){var o,e;d.iframexd=!1;try{(o="contentDocument"in this?this.contentDocument:this.contentWindow.document).domain}catch(t){o=(d.iframexd=!0,!1)}if(d.iframexd)return"console"in window&&console.log("NiceScroll error: policy restriced iframe"),!0;d.forcescreen=!0,d.isiframe&&(d.iframe={doc:n(o),html:d.doc.contents().find("html")[0],body:d.doc.contents().find("body")[0]},d.getContentSize=function(){return{w:Math.max(d.iframe.html.scrollWidth,d.iframe.body.scrollWidth),h:Math.max(d.iframe.html.scrollHeight,d.iframe.body.scrollHeight)}},d.docscroll=n(d.iframe.body)),h.isios||!d.opt.iframeautoresize||d.isiframe||(d.win.scrollTop(0),d.doc.height(""),e=Math.max(o.getElementsByTagName("html")[0].scrollHeight,o.body.scrollHeight),d.doc.height(e)),d.lazyResize(30),h.isie7&&d.css(n(d.iframe.html),{"overflow-y":"hidden"}),d.css(n(d.iframe.body),{"overflow-y":"hidden"}),h.isios&&d.haswrapper&&d.css(n(o.body),{"-webkit-transform":"translate3d(0,0,0)"}),"contentWindow"in this?d.bind(this.contentWindow,"scroll",d.onscroll):d.bind(o,"scroll",d.onscroll),d.opt.enablemousewheel&&d.bind(o,"mousewheel",d.onmousewheel),d.opt.enablekeyboard&&d.bind(o,h.isopera?"keypress":"keydown",d.onkeypress),(h.cantouch||d.opt.touchbehavior)&&(d.bind(o,"mousedown",d.ontouchstart),d.bind(o,"mousemove",function(o){return d.ontouchmove(o,!0)}),d.opt.grabcursorenabled&&h.cursorgrabvalue&&d.css(n(o.body),{cursor:h.cursorgrabvalue})),d.bind(o,"mouseup",d.ontouchend),d.zoom&&(d.opt.dblclickzoom&&d.bind(o,"dblclick",d.doZoom),d.ongesturezoom&&d.bind(o,"gestureend",d.ongesturezoom))},this.doc[0].readyState&&"complete"==this.doc[0].readyState&&setTimeout(function(){o.call(d.doc[0],!1)},500),d.bind(this.doc,"load",o))},this.showCursor=function(o,e){d.cursortimeout&&(clearTimeout(d.cursortimeout),d.cursortimeout=0),d.rail&&(d.autohidedom&&(d.autohidedom.stop().css({opacity:d.opt.cursoropacitymax}),d.cursoractive=!0),d.rail.drag&&1==d.rail.drag.pt||(void 0!==o&&!1!==o&&(d.scroll.y=Math.round(+o/d.scrollratio.y)),void 0!==e&&(d.scroll.x=Math.round(+e/d.scrollratio.x))),d.cursor.css({height:d.cursorheight,top:d.scroll.y}),d.cursorh&&(e=d.hasreversehr?d.scrollvaluemaxw-d.scroll.x:d.scroll.x,!d.rail.align&&d.rail.visibility?d.cursorh.css({width:d.cursorwidth,left:e+d.rail.width}):d.cursorh.css({width:d.cursorwidth,left:e}),d.cursoractive=!0),d.zoom&&d.zoom.stop().css({opacity:d.opt.cursoropacitymax}))},this.hideCursor=function(o){d.cursortimeout||d.rail&&d.autohidedom&&(d.hasmousefocus&&"leave"==d.opt.autohidemode||(d.cursortimeout=setTimeout(function(){d.rail.active&&d.showonmouseevent||(d.autohidedom.stop().animate({opacity:d.opt.cursoropacitymin}),d.zoom&&d.zoom.stop().animate({opacity:d.opt.cursoropacitymin}),d.cursoractive=!1),d.cursortimeout=0},o||d.opt.hidecursordelay)))},this.noticeCursor=function(o,e,t){d.showCursor(e,t),d.rail.active||d.hideCursor(o)},this.getContentSize=d.ispage?function(){return{w:Math.max(document.body.scrollWidth,document.documentElement.scrollWidth),h:Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}}:d.haswrapper?function(){return{w:d.doc.outerWidth()+parseInt(d.win.css("paddingLeft"))+parseInt(d.win.css("paddingRight")),h:d.doc.outerHeight()+parseInt(d.win.css("paddingTop"))+parseInt(d.win.css("paddingBottom"))}}:function(){return{w:d.docscroll[0].scrollWidth,h:d.docscroll[0].scrollHeight}},this.onResize=function(o,e){if(!d||!d.win)return!1;if(!d.haswrapper&&!d.ispage){if("none"==d.win.css("display"))return d.visibility&&d.hideRail().hideRailHr(),!1;d.hidden||d.visibility||d.showRail().showRailHr()}var t=d.page.maxh,r=d.page.maxw,i=d.view.h,s=d.view.w;if(d.view={w:d.ispage?d.win.width():parseInt(d.win[0].clientWidth),h:d.ispage?d.win.height():parseInt(d.win[0].clientHeight)},d.page=e||d.getContentSize(),d.page.maxh=Math.max(0,d.page.h-d.view.h),d.page.maxw=Math.max(0,d.page.w-d.view.w),d.page.maxh==t&&d.page.maxw==r&&d.view.w==s&&d.view.h==i){if(d.ispage||(s=d.win.offset(),d.lastposition&&(i=d.lastposition).top==s.top&&i.left==s.left))return d;d.lastposition=s}return 0==d.page.maxh?(d.hideRail(),d.scrollvaluemax=0,d.scroll.y=0,d.scrollratio.y=0,d.cursorheight=0,d.setScrollTop(0),d.rail.scrollable=!1):(d.page.maxh-=d.opt.railpadding.top+d.opt.railpadding.bottom,d.rail.scrollable=!0),0==d.page.maxw?(d.hideRailHr(),d.scrollvaluemaxw=0,d.scroll.x=0,d.scrollratio.x=0,d.cursorwidth=0,d.setScrollLeft(0),d.railh.scrollable=!1):(d.page.maxw-=d.opt.railpadding.left+d.opt.railpadding.right,d.railh.scrollable=!0),d.railslocked=d.locked||0==d.page.maxh&&0==d.page.maxw,d.railslocked?(d.ispage||d.updateScrollBar(d.view),!1):(d.hidden||d.visibility?d.hidden||d.railh.visibility||d.showRailHr():d.showRail().showRailHr(),d.istextarea&&d.win.css("resize")&&"none"!=d.win.css("resize")&&(d.view.h-=20),d.cursorheight=Math.min(d.view.h,Math.round(d.view.h*(d.view.h/d.page.h))),d.cursorheight=d.opt.cursorfixedheight||Math.max(d.opt.cursorminheight,d.cursorheight),d.cursorwidth=Math.min(d.view.w,Math.round(d.view.w*(d.view.w/d.page.w))),d.cursorwidth=d.opt.cursorfixedheight||Math.max(d.opt.cursorminheight,d.cursorwidth),d.scrollvaluemax=d.view.h-d.cursorheight-d.cursor.hborder-(d.opt.railpadding.top+d.opt.railpadding.bottom),d.railh&&(d.railh.width=0<d.page.maxh?d.view.w-d.rail.width:d.view.w,d.scrollvaluemaxw=d.railh.width-d.cursorwidth-d.cursorh.wborder-(d.opt.railpadding.left+d.opt.railpadding.right)),d.ispage||d.updateScrollBar(d.view),d.scrollratio={x:d.page.maxw/d.scrollvaluemaxw,y:d.page.maxh/d.scrollvaluemax},d.getScrollTop()>d.page.maxh?d.doScrollTop(d.page.maxh):(d.scroll.y=Math.round(d.getScrollTop()*(1/d.scrollratio.y)),d.scroll.x=Math.round(d.getScrollLeft()*(1/d.scrollratio.x)),d.cursoractive&&d.noticeCursor()),d.scroll.y&&0==d.getScrollTop()&&d.doScrollTo(Math.floor(d.scroll.y*d.scrollratio.y)),d)},this.resize=d.onResize,this.lazyResize=function(o){return o=isNaN(o)?30:o,d.debounced("resize",d.resize,o),d},this.jqbind=function(o,e,t){d.events.push({e:o,n:e,f:t,q:!0}),n(o).bind(e,t)},this.bind=function(o,e,t,r){var i,s="jquery"in o?o[0]:o;"mousewheel"==e?window.addEventListener||"onwheel"in document?d._bind(s,"wheel",t,r||!1):(_(s,i=void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll",t,r||!1),"DOMMouseScroll"==i&&_(s,"MozMousePixelScroll",t,r||!1)):s.addEventListener?(h.cantouch&&/mouseup|mousedown|mousemove/.test(e)&&(i="mousedown"==e?"touchstart":"mouseup"==e?"touchend":"touchmove",d._bind(s,i,function(o){var e;o.touches?o.touches.length<2&&((e=o.touches.length?o.touches[0]:o).original=o,t.call(this,e)):o.changedTouches&&((e=o.changedTouches[0]).original=o,t.call(this,e))},r||!1)),d._bind(s,e,t,r||!1),h.cantouch&&"mouseup"==e&&d._bind(s,"touchcancel",t,r||!1)):d._bind(s,e,function(o){return(o=o||window.event||!1)&&o.srcElement&&(o.target=o.srcElement),"pageY"in o||(o.pageX=o.clientX+document.documentElement.scrollLeft,o.pageY=o.clientY+document.documentElement.scrollTop),!1!==t.call(s,o)&&!1!==r||d.cancelEvent(o)})},h.haseventlistener?(this._bind=function(o,e,t,r){d.events.push({e:o,n:e,f:t,b:r,q:!1}),o.addEventListener(e,t,r||!1)},this.cancelEvent=function(o){return o&&((o=o.original||o).preventDefault(),o.stopPropagation(),o.preventManipulation&&o.preventManipulation()),!1},this.stopPropagation=function(o){return o&&(o=o.original||o).stopPropagation(),!1},this._unbind=function(o,e,t,r){o.removeEventListener(e,t,r)}):(this._bind=function(o,e,t,r){d.events.push({e:o,n:e,f:t,b:r,q:!1}),o.attachEvent?o.attachEvent("on"+e,t):o["on"+e]=t},this.cancelEvent=function(o){return!!(o=window.event||!1)&&(o.cancelBubble=!0,o.cancel=!0,o.returnValue=!1)},this.stopPropagation=function(o){return!!(o=window.event||!1)&&(o.cancelBubble=!0,!1)},this._unbind=function(o,e,t,r){o.detachEvent?o.detachEvent("on"+e,t):o["on"+e]=!1}),this.unbindAll=function(){for(var o=0;o<d.events.length;o++){var e=d.events[o];e.q?e.e.unbind(e.n,e.f):d._unbind(e.e,e.n,e.f,e.b)}},this.showRail=function(){return 0!=d.page.maxh&&(d.ispage||"none"!=d.win.css("display"))&&(d.visibility=!0,d.rail.visibility=!0,d.rail.css("display","block")),d},this.showRailHr=function(){return d.railh&&0!=d.page.maxw&&(d.ispage||"none"!=d.win.css("display"))&&(d.railh.visibility=!0,d.railh.css("display","block")),d},this.hideRail=function(){return d.visibility=!1,d.rail.visibility=!1,d.rail.css("display","none"),d},this.hideRailHr=function(){return d.railh&&(d.railh.visibility=!1,d.railh.css("display","none")),d},this.show=function(){return d.hidden=!1,d.railslocked=!1,d.showRail().showRailHr()},this.hide=function(){return d.hidden=!0,d.railslocked=!0,d.hideRail().hideRailHr()},this.toggle=function(){return d.hidden?d.show():d.hide()},this.remove=function(){d.stop(),d.cursortimeout&&clearTimeout(d.cursortimeout),d.doZoomOut(),d.unbindAll(),h.isie9&&d.win[0].detachEvent("onpropertychange",d.onAttributeChange),!1!==d.observer&&d.observer.disconnect(),!1!==d.observerremover&&d.observerremover.disconnect(),!1!==d.observerbody&&d.observerbody.disconnect(),d.events=null,d.cursor&&d.cursor.remove(),d.cursorh&&d.cursorh.remove(),d.rail&&d.rail.remove(),d.railh&&d.railh.remove(),d.zoom&&d.zoom.remove();for(var o=0;o<d.saved.css.length;o++){var e=d.saved.css[o];e[0].css(e[1],void 0===e[2]?"":e[2])}d.saved=!1,d.me.data("__nicescroll","");var t,r=n.nicescroll;for(t in r.each(function(o){if(this&&this.id===d.id){delete r[o];for(var e=++o;e<r.length;e++,o++)r[o]=r[e];r.length--,r.length&&delete r[r.length]}}),d)d[t]=null,delete d[t];d=null},this.scrollstart=function(o){return this.onscrollstart=o,d},this.scrollend=function(o){return this.onscrollend=o,d},this.scrollcancel=function(o){return this.onscrollcancel=o,d},this.zoomin=function(o){return this.onzoomin=o,d},this.zoomout=function(o){return this.onzoomout=o,d},this.isScrollable=function(o){var e=o.target||o;if("OPTION"==e.nodeName)return!0;for(;e&&1==e.nodeType&&!/^BODY|HTML/.test(e.nodeName);){var t=n(e),t=t.css("overflowY")||t.css("overflowX")||t.css("overflow")||"";if(/scroll|auto/.test(t))return e.clientHeight!=e.scrollHeight;e=e.parentNode||!1}return!1},this.getViewport=function(o){for(var e=!(!o||!o.parentNode)&&o.parentNode;e&&1==e.nodeType&&!/^BODY|HTML/.test(e.nodeName);){var t=n(e);if(/fixed|absolute/.test(t.css("position")))return t;var r=t.css("overflowY")||t.css("overflowX")||t.css("overflow")||"";if(/scroll|auto/.test(r)&&e.clientHeight!=e.scrollHeight||0<t.getNiceScroll().length)return t;e=e.parentNode||!1}return!1},this.triggerScrollEnd=function(){var o,e;d.onscrollend&&(e={type:"scrollend",current:{x:o=d.getScrollLeft(),y:e=d.getScrollTop()},end:{x:o,y:e}},d.onscrollend.call(d,e))},this.onmousewheel=function(o){if(!d.wheelprevented){if(d.railslocked)return d.debounced("checkunlock",d.resize,250),!0;if(d.rail.drag)return d.cancelEvent(o);if("auto"==d.opt.oneaxismousemode&&0!=o.deltaX&&(d.opt.oneaxismousemode=!1),d.opt.oneaxismousemode&&0==o.deltaX&&!d.rail.scrollable)return!d.railh||!d.railh.scrollable||d.onmousewheelhr(o);var e=+new Date,t=!1;return d.opt.preservenativescrolling&&d.checkarea+600<e&&(d.nativescrollingarea=d.isScrollable(o),t=!0),d.checkarea=e,!!d.nativescrollingarea||((t=S(o,!1,t))&&(d.checkarea=0),t)}},this.onmousewheelhr=function(o){if(!d.wheelprevented){if(d.railslocked||!d.railh.scrollable)return!0;if(d.rail.drag)return d.cancelEvent(o);var e=+new Date,t=!1;return d.opt.preservenativescrolling&&d.checkarea+600<e&&(d.nativescrollingarea=d.isScrollable(o),t=!0),d.checkarea=e,!!d.nativescrollingarea||(d.railslocked?d.cancelEvent(o):S(o,!0,t))}},this.stop=function(){return d.cancelScroll(),d.scrollmon&&d.scrollmon.stop(),d.cursorfreezed=!1,d.scroll.y=Math.round(d.getScrollTop()*(1/d.scrollratio.y)),d.noticeCursor(),d},this.getTransitionSpeed=function(o){var o=Math.min(Math.round(10*d.opt.scrollspeed),Math.round(o/20*d.opt.scrollspeed));return 20<o?o:0},d.opt.smoothscroll?d.ishwscroll&&h.hastransition&&d.opt.usetransition&&d.opt.smoothscroll?(this.prepareTransition=function(o,e){return o=(e=e?20<o?o:0:d.getTransitionSpeed(o))?h.prefixstyle+"transform "+e+"ms ease-out":"",d.lasttransitionstyle&&d.lasttransitionstyle==o||(d.lasttransitionstyle=o,d.doc.css(h.transitionstyle,o)),e},this.doScrollLeft=function(o,e){var t=d.scrollrunning?d.newscrolly:d.getScrollTop();d.doScrollPos(o,t,e)},this.doScrollTop=function(o,e){var t=d.scrollrunning?d.newscrollx:d.getScrollLeft();d.doScrollPos(t,o,e)},this.doScrollPos=function(o,e,t){var r=d.getScrollTop(),i=d.getScrollLeft();return((d.newscrolly-r)*(e-r)<0||(d.newscrollx-i)*(o-i)<0)&&d.cancelScroll(),0==d.opt.bouncescroll&&(e<0?e=0:e>d.page.maxh&&(e=d.page.maxh),o<0?o=0:o>d.page.maxw&&(o=d.page.maxw)),(!d.scrollrunning||o!=d.newscrollx||e!=d.newscrolly)&&(d.newscrolly=e,d.newscrollx=o,d.newscrollspeed=t||!1,!d.timer&&void(d.timer=setTimeout(function(){var t=d.getScrollTop(),r=d.getScrollLeft(),i={};i.x=o-r,i.y=e-t,i.px=r,i.py=t;var s=Math.round(Math.sqrt(Math.pow(i.x,2)+Math.pow(i.y,2))),i=d.newscrollspeed&&1<d.newscrollspeed?d.newscrollspeed:d.getTransitionSpeed(s);d.newscrollspeed&&d.newscrollspeed<=1&&(i*=d.newscrollspeed),d.prepareTransition(i,!0),d.timerscroll&&d.timerscroll.tm&&clearInterval(d.timerscroll.tm),0<i&&(!d.scrollrunning&&d.onscrollstart&&(s={type:"scrollstart",current:{x:r,y:t},request:{x:o,y:e},end:{x:d.newscrollx,y:d.newscrolly},speed:i},d.onscrollstart.call(d,s)),h.transitionend?d.scrollendtrapped||(d.scrollendtrapped=!0,d.bind(d.doc,h.transitionend,d.onScrollTransitionEnd,!1)):(d.scrollendtrapped&&clearTimeout(d.scrollendtrapped),d.scrollendtrapped=setTimeout(d.onScrollTransitionEnd,i)),d.timerscroll={bz:new v(t,d.newscrolly,i,0,0,.58,1),bh:new v(r,d.newscrollx,i,0,0,.58,1)},d.cursorfreezed||(d.timerscroll.tm=setInterval(function(){d.showCursor(d.getScrollTop(),d.getScrollLeft())},60))),d.synched("doScroll-set",function(){d.timer=0,d.scrollendtrapped&&(d.scrollrunning=!0),d.setScrollTop(d.newscrolly),d.setScrollLeft(d.newscrollx),d.scrollendtrapped||d.onScrollTransitionEnd()})},50)))},this.cancelScroll=function(){if(!d.scrollendtrapped)return!0;var o=d.getScrollTop(),e=d.getScrollLeft();return d.scrollrunning=!1,h.transitionend||clearTimeout(h.transitionend),d.scrollendtrapped=!1,d._unbind(d.doc[0],h.transitionend,d.onScrollTransitionEnd),d.prepareTransition(0),d.setScrollTop(o),d.railh&&d.setScrollLeft(e),d.timerscroll&&d.timerscroll.tm&&clearInterval(d.timerscroll.tm),d.timerscroll=!1,d.cursorfreezed=!1,d.showCursor(o,e),d},this.onScrollTransitionEnd=function(){d.scrollendtrapped&&d._unbind(d.doc[0],h.transitionend,d.onScrollTransitionEnd),d.scrollendtrapped=!1,d.prepareTransition(0),d.timerscroll&&d.timerscroll.tm&&clearInterval(d.timerscroll.tm),d.timerscroll=!1;var o=d.getScrollTop(),e=d.getScrollLeft();if(d.setScrollTop(o),d.railh&&d.setScrollLeft(e),d.noticeCursor(!1,o,e),d.cursorfreezed=!1,o<0?o=0:o>d.page.maxh&&(o=d.page.maxh),e<0?e=0:e>d.page.maxw&&(e=d.page.maxw),o!=d.newscrolly||e!=d.newscrollx)return d.doScrollPos(e,o,d.opt.snapbackspeed);d.onscrollend&&d.scrollrunning&&d.triggerScrollEnd(),d.scrollrunning=!1}):(this.doScrollLeft=function(o,e){var t=d.scrollrunning?d.newscrolly:d.getScrollTop();d.doScrollPos(o,t,e)},this.doScrollTop=function(o,e){var t=d.scrollrunning?d.newscrollx:d.getScrollLeft();d.doScrollPos(t,o,e)},this.doScrollPos=function(o,e,t){if(e=void 0===e||!1===e?d.getScrollTop(!0):e,d.timer&&d.newscrolly==e&&d.newscrollx==o)return!0;d.timer&&a(d.timer),d.timer=0;var r=d.getScrollTop(),i=d.getScrollLeft();((d.newscrolly-r)*(e-r)<0||(d.newscrollx-i)*(o-i)<0)&&d.cancelScroll(),d.newscrolly=e,d.newscrollx=o,d.bouncescroll&&d.rail.visibility||(d.newscrolly<0?d.newscrolly=0:d.newscrolly>d.page.maxh&&(d.newscrolly=d.page.maxh)),d.bouncescroll&&d.railh.visibility||(d.newscrollx<0?d.newscrollx=0:d.newscrollx>d.page.maxw&&(d.newscrollx=d.page.maxw)),d.dst={},d.dst.x=o-i,d.dst.y=e-r,d.dst.px=i,d.dst.py=r;var s=Math.round(Math.sqrt(Math.pow(d.dst.x,2)+Math.pow(d.dst.y,2)));d.dst.ax=d.dst.x/s,d.dst.ay=d.dst.y/s;var n=0,l=s;0==d.dst.x?(n=r,l=e,d.dst.ay=1,d.dst.py=0):0==d.dst.y&&(n=i,l=o,d.dst.ax=1,d.dst.px=0);var u,s=d.getTransitionSpeed(s);t&&t<=1&&(s*=t),d.bzscroll=0<s&&(d.bzscroll?d.bzscroll.update(l,s):new v(n,l,s,0,1,0,1)),d.timer||((r==d.page.maxh&&e>=d.page.maxh||i==d.page.maxw&&o>=d.page.maxw)&&d.checkContentSize(),u=1,d.cancelAnimationFrame=!1,d.timer=1,d.onscrollstart&&!d.scrollrunning&&(s={type:"scrollstart",current:{x:i,y:r},request:{x:o,y:e},end:{x:d.newscrollx,y:d.newscrolly},speed:s},d.onscrollstart.call(d,s)),function o(){if(d.cancelAnimationFrame)return!0;if(d.scrollrunning=!0,u=1-u)return d.timer=c(o)||1;var e,t=0,r=s=d.getScrollTop();d.dst.ay?(((i=(r=d.bzscroll?d.dst.py+d.bzscroll.getNow()*d.dst.ay:d.newscrolly)-s)<0&&r<d.newscrolly||0<i&&r>d.newscrolly)&&(r=d.newscrolly),d.setScrollTop(r),r==d.newscrolly&&(t=1)):t=1;var i,s=e=d.getScrollLeft();d.dst.ax?(((i=(s=d.bzscroll?d.dst.px+d.bzscroll.getNow()*d.dst.ax:d.newscrollx)-e)<0&&s<d.newscrollx||0<i&&s>d.newscrollx)&&(s=d.newscrollx),d.setScrollLeft(s),s==d.newscrollx&&(t+=1)):t+=1,2==t?(d.timer=0,d.cursorfreezed=!1,d.bzscroll=!1,d.scrollrunning=!1,r<0?r=0:r>d.page.maxh&&(r=d.page.maxh),s<0?s=0:s>d.page.maxw&&(s=d.page.maxw),s!=d.newscrollx||r!=d.newscrolly?d.doScrollPos(s,r):d.onscrollend&&d.triggerScrollEnd()):d.timer=c(o)||1}(),(r==d.page.maxh&&r<=e||i==d.page.maxw&&i<=o)&&d.checkContentSize(),d.noticeCursor())},this.cancelScroll=function(){return d.timer&&a(d.timer),d.timer=0,d.bzscroll=!1,d.scrollrunning=!1,d}):(this.doScrollLeft=function(o,e){var t=d.getScrollTop();d.doScrollPos(o,t,e)},this.doScrollTop=function(o,e){var t=d.getScrollLeft();d.doScrollPos(t,o,e)},this.doScrollPos=function(o,e,t){var r=o>d.page.maxw?d.page.maxw:o;r<0&&(r=0);var i=e>d.page.maxh?d.page.maxh:e;i<0&&(i=0),d.synched("scroll",function(){d.setScrollTop(i),d.setScrollLeft(r)})},this.cancelScroll=function(){}),this.doScrollBy=function(o,e){var t=0;t=e?Math.floor((d.scroll.y-o)*d.scrollratio.y):(d.timer?d.newscrolly:d.getScrollTop(!0))-o,d.bouncescroll&&(t<-(r=Math.round(d.view.h/2))?t=-r:t>d.page.maxh+r&&(t=d.page.maxh+r)),d.cursorfreezed=!1;var r=d.getScrollTop(!0);return t<0&&r<=0?d.noticeCursor():t>d.page.maxh&&r>=d.page.maxh?(d.checkContentSize(),d.noticeCursor()):void d.doScrollTop(t)},this.doScrollLeftBy=function(o,e){var t=0;t=e?Math.floor((d.scroll.x-o)*d.scrollratio.x):(d.timer?d.newscrollx:d.getScrollLeft(!0))-o,d.bouncescroll&&(t<-(r=Math.round(d.view.w/2))?t=-r:t>d.page.maxw+r&&(t=d.page.maxw+r)),d.cursorfreezed=!1;var r=d.getScrollLeft(!0);return t<0&&r<=0||t>d.page.maxw&&r>=d.page.maxw?d.noticeCursor():void d.doScrollLeft(t)},this.doScrollTo=function(o,e){(e=e?Math.round(o*d.scrollratio.y):o)<0?e=0:e>d.page.maxh&&(e=d.page.maxh),d.cursorfreezed=!1,d.doScrollTop(o)},this.checkContentSize=function(){var o=d.getContentSize();o.h==d.page.h&&o.w==d.page.w||d.resize(!1,o)},d.onscroll=function(o){d.rail.drag||d.cursorfreezed||d.synched("scroll",function(){d.scroll.y=Math.round(d.getScrollTop()*(1/d.scrollratio.y)),d.railh&&(d.scroll.x=Math.round(d.getScrollLeft()*(1/d.scrollratio.x))),d.noticeCursor()})},d.bind(d.docscroll,"scroll",d.onscroll),this.doZoomIn=function(o){if(!d.zoomactive){d.zoomactive=!0,d.zoomrestore={style:{}};var e,t=["position","top","left","zIndex","backgroundColor","marginTop","marginBottom","marginLeft","marginRight",],r=d.win[0].style;for(e in t){var i=t[e];d.zoomrestore.style[i]=void 0!==r[i]?r[i]:""}d.zoomrestore.style.width=d.win.css("width"),d.zoomrestore.style.height=d.win.css("height"),d.zoomrestore.padding={w:d.win.outerWidth()-d.win.width(),h:d.win.outerHeight()-d.win.height()},h.isios4&&(d.zoomrestore.scrollTop=n(window).scrollTop(),n(window).scrollTop(0)),d.win.css({position:h.isios4?"absolute":"fixed",top:0,left:0,"z-index":s+100,margin:"0px"});var l=d.win.css("backgroundColor");return(""==l||/transparent|rgba\(0, 0, 0, 0\)|rgba\(0,0,0,0\)/.test(l))&&d.win.css("backgroundColor","#fff"),d.rail.css({"z-index":s+101}),d.zoom.css({"z-index":s+102}),d.zoom.css("backgroundPosition","0px -18px"),d.resizeZoom(),d.onzoomin&&d.onzoomin.call(d),d.cancelEvent(o)}},this.doZoomOut=function(o){if(d.zoomactive)return d.zoomactive=!1,d.win.css("margin",""),d.win.css(d.zoomrestore.style),h.isios4&&n(window).scrollTop(d.zoomrestore.scrollTop),d.rail.css({"z-index":d.zindex}),d.zoom.css({"z-index":d.zindex}),d.zoomrestore=!1,d.zoom.css("backgroundPosition","0px 0px"),d.onResize(),d.onzoomout&&d.onzoomout.call(d),d.cancelEvent(o)},this.doZoom=function(o){return d.zoomactive?d.doZoomOut(o):d.doZoomIn(o)},this.resizeZoom=function(){var o;d.zoomactive&&(o=d.getScrollTop(),d.win.css({width:n(window).width()-d.zoomrestore.padding.w+"px",height:n(window).height()-d.zoomrestore.padding.h+"px"}),d.onResize(),d.setScrollTop(Math.min(d.page.maxh,o)))},this.init(),n.nicescroll.push(this)}var p,m=window.MutationObserver||window.WebKitMutationObserver||!1,g={zindex:"auto",cursoropacitymin:0,cursoropacitymax:1,cursorcolor:"#424242",cursorwidth:"5px",cursorborder:"1px solid #fff",cursorborderradius:"5px",scrollspeed:60,mousescrollstep:24,touchbehavior:!1,hwacceleration:!0,usetransition:!0,boxzoom:!1,dblclickzoom:!0,gesturezoom:!0,grabcursorenabled:!0,autohidemode:!0,background:"",iframeautoresize:!0,cursorminheight:32,preservenativescrolling:!0,railoffset:!1,railhoffset:!1,bouncescroll:!0,spacebarenabled:!0,railpadding:{top:0,right:0,left:0,bottom:0},disableoutline:!0,horizrailenabled:!0,railalign:"right",railvalign:"bottom",enabletranslate3d:!0,enablemousewheel:!0,enablekeyboard:!0,smoothscroll:!0,sensitiverail:!0,enablemouselockapi:!0,cursorfixedheight:!1,directionlockdeadzone:6,hidecursordelay:400,nativeparentscrolling:!0,enablescrollonselection:!0,overflowx:!0,overflowy:!0,cursordragspeed:.3,rtlmode:"auto",cursordragontouch:!1,oneaxismousemode:"auto",scriptpath:0<(p=(p=document.getElementsByTagName("script"))[p.length-1].src.split("?")[0]).split("/").length?p.split("/").slice(0,-1).join("/")+"/":"",preventmultitouchscrolling:!0},f=!1,$=function(o){var e=this;this.nc=o,this.lastx=0,this.lasty=0,this.speedx=0,this.speedy=0,this.lasttime=0,this.steptime=0,this.snapx=!1,this.snapy=!1,this.demulx=0,this.demuly=0,this.lastscrollx=-1,this.lastscrolly=-1,this.chkx=0,this.chky=0,this.timer=0,this.time=function(){return+new Date},this.reset=function(o,t){e.stop();var r=e.time();e.steptime=0,e.lasttime=r,e.speedx=0,e.speedy=0,e.lastx=o,e.lasty=t,e.lastscrollx=-1,e.lastscrolly=-1},this.update=function(o,t){var r=e.time();e.steptime=r-e.lasttime,e.lasttime=r;var i=t-e.lasty,s=o-e.lastx,n=e.nc.getScrollTop()+i,r=e.nc.getScrollLeft()+s;e.snapx=r<0||r>e.nc.page.maxw,e.snapy=n<0||n>e.nc.page.maxh,e.speedx=s,e.speedy=i,e.lastx=o,e.lasty=t},this.stop=function(){e.nc.unsynched("domomentum2d"),e.timer&&clearTimeout(e.timer),e.timer=0,e.lastscrollx=-1,e.lastscrolly=-1},this.doSnapy=function(o,t){var r=!1;t<0?r=(t=0,!0):t>e.nc.page.maxh&&(t=e.nc.page.maxh,r=!0),o<0?r=(o=0,!0):o>e.nc.page.maxw&&(o=e.nc.page.maxw,r=!0),r?e.nc.doScrollPos(o,t,e.nc.opt.snapbackspeed):e.nc.triggerScrollEnd()},this.doMomentum=function(o){var t=e.time(),r=o?t+o:e.lasttime,i=e.nc.getScrollLeft(),o=e.nc.getScrollTop(),s=e.nc.page.maxh,n=e.nc.page.maxw;e.speedx=0<n?Math.min(60,e.speedx):0,e.speedy=0<s?Math.min(60,e.speedy):0,r=r&&t-r<=60,(o<0||s<o||i<0||n<i)&&(r=!1);var l,c,a,d,i=!(!e.speedy||!r)&&e.speedy,r=!(!e.speedx||!r)&&e.speedx;i||r?(50<(l=Math.max(16,e.steptime))&&(r=l/50,e.speedx*=r,e.speedy*=r,l=50),e.demulxy=0,e.lastscrollx=e.nc.getScrollLeft(),e.chkx=e.lastscrollx,e.lastscrolly=e.nc.getScrollTop(),e.chky=e.lastscrolly,c=e.lastscrollx,a=e.lastscrolly,(d=function(){var o=600<e.time()-t?.04:.02;e.speedx&&(c=Math.floor(e.lastscrollx-e.speedx*(1-e.demulxy)),((e.lastscrollx=c)<0||n<c)&&(o=.1)),e.speedy&&(a=Math.floor(e.lastscrolly-e.speedy*(1-e.demulxy)),((e.lastscrolly=a)<0||s<a)&&(o=.1)),e.demulxy=Math.min(1,e.demulxy+o),e.nc.synched("domomentum2d",function(){e.speedx&&(e.nc.getScrollLeft()!=e.chkx&&e.stop(),e.chkx=c,e.nc.setScrollLeft(c)),e.speedy&&(e.nc.getScrollTop()!=e.chky&&e.stop(),e.chky=a,e.nc.setScrollTop(a)),e.timer||(e.nc.hideCursor(),e.doSnapy(c,a))}),e.demulxy<1?e.timer=setTimeout(d,l):(e.stop(),e.nc.hideCursor(),e.doSnapy(c,a))})()):e.doSnapy(e.nc.getScrollLeft(),e.nc.getScrollTop())}},w=o.fn.scrollTop;o.cssHooks.pageYOffset={get:function(o,e,t){var r=n.data(o,"__nicescroll")||!1;return r&&r.ishwscroll?r.getScrollTop():w.call(o)},set:function(o,e){var t=n.data(o,"__nicescroll")||!1;return t&&t.ishwscroll?t.setScrollTop(parseInt(e)):w.call(o,e),this}},o.fn.scrollTop=function(o){if(void 0!==o)return this.each(function(){var e=n.data(this,"__nicescroll")||!1;e&&e.ishwscroll?e.setScrollTop(parseInt(o)):w.call(n(this),o)});var e=this[0]&&n.data(this[0],"__nicescroll")||!1;return e&&e.ishwscroll?e.getScrollTop():w.call(this)};var v=o.fn.scrollLeft;function b(o){var e=this;if(this.length=0,this.name="nicescrollarray",this.each=function(o){for(var t=0,r=0;t<e.length;t++)o.call(e[t],r++);return e},this.push=function(o){e[e.length]=o,e.length++},this.eq=function(o){return e[o]},o)for(var t=0;t<o.length;t++){var r=n.data(o[t],"__nicescroll")||!1;r&&(this[this.length]=r,this.length++)}return this}n.cssHooks.pageXOffset={get:function(o,e,t){var r=n.data(o,"__nicescroll")||!1;return r&&r.ishwscroll?r.getScrollLeft():v.call(o)},set:function(o,e){var t=n.data(o,"__nicescroll")||!1;return t&&t.ishwscroll?t.setScrollLeft(parseInt(e)):v.call(o,e),this}},o.fn.scrollLeft=function(o){if(void 0!==o)return this.each(function(){var e=n.data(this,"__nicescroll")||!1;e&&e.ishwscroll?e.setScrollLeft(parseInt(o)):v.call(n(this),o)});var e=this[0]&&n.data(this[0],"__nicescroll")||!1;return e&&e.ishwscroll?e.getScrollLeft():v.call(this)},function(o,e,t){for(var r=0;r<e.length;r++)t(o,e[r])}(b.prototype,["show","hide","toggle","onResize","resize","remove","stop","doScrollPos",],function(o,e){o[e]=function(){var o=arguments;return this.each(function(){this[e].apply(this,o)})}}),o.fn.getNiceScroll=function(o){return void 0===o?new b(this):this[o]&&n.data(this[o],"__nicescroll")||!1},o.extend(o.expr[":"],{nicescroll:function(o){return!!n.data(o,"__nicescroll")}}),n.fn.niceScroll=function(o,e){void 0===e&&("object"!=typeof o||"jquery"in o||(e=o,o=!1)),e=n.extend({},e);var t=new b;void 0===e&&(e={}),o&&(e.doc=n(o),e.win=n(this));var r=!("doc"in e);return r||"win"in e||(e.win=n(this)),this.each(function(){var o=n(this).data("__nicescroll")||!1;o||(e.doc=r?n(this):e.doc,o=new h(e,n(this)),n(this).data("__nicescroll",o)),t.push(o)}),1==t.length?t[0]:t},window.NiceScroll={getjQuery:function(){return o}},n.nicescroll||(n.nicescroll=new b,n.nicescroll.options=g)});